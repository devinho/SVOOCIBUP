app.controller('vizController', ['$scope', function($scope) {
	//asdf
	var final_data = [{"click_data":[{"radius":30,"value":30,"x":187.0,"y":118.0},{"radius":30,"value":30,"x":187.0,"y":118.0},{"radius":30,"value":30,"x":187.0,"y":118.0},{"radius":30,"value":30,"x":187.0,"y":118.0},{"radius":30,"value":30,"x":187.0,"y":118.0},{"radius":30,"value":30,"x":187.0,"y":118.0}],"key_data":[{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118}],"screenshot":"screen_shot.png","start_time":"2016-04-26 18:31:42.886484"},{"click_data":[],"key_data":[{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":240,"y":118}],"screenshot":"screen_shot.png","start_time":"2016-04-26 18:31:45.886484"},{"click_data":[{"radius":30,"value":30,"x":33.0,"y":44.0}],"key_data":[],"screenshot":"screen_shot.png","start_time":"2016-04-26 18:31:48.886484"},{"click_data":[{"radius":30,"value":30,"x":124.0,"y":110.0},{"radius":30,"value":30,"x":124.0,"y":110.0},{"radius":30,"value":30,"x":124.0,"y":110.0}],"key_data":[{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":240,"y":118},{"radius":30,"value":30,"x":268,"y":118},{"radius":30,"value":30,"x":296,"y":118},{"radius":30,"value":30,"x":240,"y":118}],"screenshot":"screen_shot.png","start_time":"2016-04-26 18:31:51.886484"}];
    
    for(var heatmapInstance=h337.create({container:document.querySelector(".heatmap"),backgroundColor:"rgba(255,255,255,0)",gradient:{".5":"red"},maxOpacity:.7,minOpacity:.1}),points=[],max=0,width=840,height=400,len=300;len--;){var val=Math.floor(100*Math.random()),radius=Math.floor(70*Math.random());max=Math.max(max,val);var point={x:Math.floor(Math.random()*width),y:Math.floor(Math.random()*height),value:val,radius:radius};points.push(point)}var data={max:max,data:points};
	var temp = {data: final_data[0].click_data};
    heatmapInstance.setData(temp);

    for(var heatmapInstance=h337.create({container:document.querySelector(".heatmap1"),backgroundColor:"rgba(255,255,255,0)",gradient:{".5":"red"},maxOpacity:.7,minOpacity:.1}),points=[],max=0,width=840,height=400,len=300;len--;){var val=Math.floor(100*Math.random()),radius=Math.floor(70*Math.random());max=Math.max(max,val);var point={x:Math.floor(Math.random()*width),y:Math.floor(Math.random()*height),value:val,radius:radius};points.push(point)}var data={max:max,data:points};
    //data = {'data': [{'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 90, 'x': 288, 'radius': 30, 'value': 30}, {'y': 146, 'x': 252, 'radius': 30, 'value': 30}, {'y': 90, 'x': 205, 'radius': 30, 'value': 30}, {'y': 146, 'x': 224, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 146, 'x': 252, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 90, 'x': 260, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 146, 'x': 224, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 90, 'x': 205, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}]}
    var temp = {data: final_data[0].key_data};
    heatmapInstance.setData(temp);

    $scope.screens = final_data;

    $scope.set = function(screen){
    	$('canvas').remove();
    	for(var heatmapInstance=h337.create({container:document.querySelector(".heatmap"),backgroundColor:"rgba(255,255,255,0)",gradient:{".5":"red"},maxOpacity:.7,minOpacity:.1}),points=[],max=0,width=840,height=400,len=300;len--;){var val=Math.floor(100*Math.random()),radius=Math.floor(70*Math.random());max=Math.max(max,val);var point={x:Math.floor(Math.random()*width),y:Math.floor(Math.random()*height),value:val,radius:radius};points.push(point)}var data={max:max,data:points};
		var temp = {data: screen.click_data};
	    heatmapInstance.setData(temp);

	    for(var heatmapInstance=h337.create({container:document.querySelector(".heatmap1"),backgroundColor:"rgba(255,255,255,0)",gradient:{".5":"red"},maxOpacity:.7,minOpacity:.1}),points=[],max=0,width=840,height=400,len=300;len--;){var val=Math.floor(100*Math.random()),radius=Math.floor(70*Math.random());max=Math.max(max,val);var point={x:Math.floor(Math.random()*width),y:Math.floor(Math.random()*height),value:val,radius:radius};points.push(point)}var data={max:max,data:points};
	    //data = {'data': [{'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 90, 'x': 288, 'radius': 30, 'value': 30}, {'y': 146, 'x': 252, 'radius': 30, 'value': 30}, {'y': 90, 'x': 205, 'radius': 30, 'value': 30}, {'y': 146, 'x': 224, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 146, 'x': 252, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 90, 'x': 260, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 146, 'x': 224, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 90, 'x': 205, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 90, 'x': 120, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 212, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 268, 'radius': 30, 'value': 30}, {'y': 118, 'x': 296, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}, {'y': 118, 'x': 70, 'radius': 30, 'value': 30}, {'y': 118, 'x': 100, 'radius': 30, 'value': 30}, {'y': 118, 'x': 128, 'radius': 30, 'value': 30}]}
	    var temp = {data: screen.key_data};
	    heatmapInstance.setData(temp);

    }

}]);